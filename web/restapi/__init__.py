from flask import Blueprint
from flask_restx import Api

from web.run import app
from .cpe_convert import api as cpe_api
from .cve import api as cve_api

namespaces = [cpe_api, cve_api]

blueprint = Blueprint("api", __name__, url_prefix="/api")

api = Api(
    blueprint,
    title="CVE-Search",
    version=app.config["version"],
    description="CVE-Search API documentation",
    doc=False,
)

for each in namespaces:
    api.add_namespace(each)
