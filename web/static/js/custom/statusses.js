function parseStatus(data){
  _ok = false;
  if (data['status'] != undefined){
    list = "";
    if       (data['status'].startsWith('wl_')){ list = "Whitelist";
    }else if (data['status'].startsWith('bl_')){ list = "Blacklist";}

    switch(data['status']){
      case "default":
        if (data['updateOutput'] != undefined){
          setStatus("Last update info <div class='well'><pre>"+data['updateOutput']+"</pre></div>", "success"); break;
        }
        _ok=true;break;
      case "logged_in":
        setStatus("Logged in successfully", "success"); _ok=true; break;
      case "db_updated":
        setStatus("Database update finished <div class='well'><pre>"+data['updateOutput']+"</pre></div>", "success"); break;
        _ok=true;break;
      case "wl_imported":
      case "bl_imported":
        setStatus(list+" import finished"); _ok=true; break;
      case "wl_already_filled":
      case "bl_already_filled":
        setStatus(list+" is already filled. You can force to drop the database", "info"); break;
      case "wl_dropped":
      case "bl_dropped":
        setStatus(list+" dropped", "success"); _ok=true; _ok=true; break;
      default:
        setStatus("A problem occurred with the server!", "danger");
    }
  }
  return _ok;
}

function setStatus(text, status){
  $("#status-box").empty();
  $("#status-box").removeClass();
  $("#status-box").addClass("alert alert-"+status);
  $("#status-box").append(text);
}
