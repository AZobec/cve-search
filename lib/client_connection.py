from collections import namedtuple, defaultdict


class ClientConnection(object):

    connection_status = namedtuple(
        "connection_status", ("CON_REQ", "CON_ACK", "CON_CFM")
    )(1, 2, 3)

    def __init__(self, sid):

        self.sid = sid

        self.con_status = self.connection_status.CON_REQ

        self.stream = True

    @property
    def client_details(self):
        return {
            "sid": self.sid,
            "con_status": self.con_status,
            "stream": self.stream,
        }
